import{R as y,r,j as t}from"./index-3c69ac46.js";import{i as C,M as I,a as N}from"./index-a07ef1f9.js";import{a as E,b as z,c as S,d as R,e as P,f as q,g as M,h as $}from"./index-cfd8f64b.js";import{I as A}from"./index-a3744339.js";import"./index-6d279f44.js";const L=()=>{const[n,o]=r.useState({img:"",i:0}),[a,h]=r.useState([]),[i,c]=r.useState(!1),[m,g]=r.useState(!1),[b,x]=r.useState(1),d=r.useCallback((e,l)=>{o({img:e,i:l}),c(!1)},[]),f=r.useCallback(e=>{h(e),o({img:e[0],i:0}),c(!1)},[]);r.useEffect(()=>{let e=null;return i&&a.length>0&&(e=setInterval(()=>{o(l=>{let s=l.i;return s<a.length-1?{img:a[s+1],i:s+1}:{img:a[0],i:0}})},3e3)),()=>{e&&clearInterval(e)}},[i,a]);const u=r.useCallback(e=>{o(l=>{let s=l.i;return e==="next-img"&&s<a.length-1?{img:a[s+1],i:s+1}:e==="prev-img"&&s>0?{img:a[s-1],i:s-1}:e==="close"?{img:"",i:0}:l}),c(!1)},[a]),p=r.useMemo(()=>C.map(({id:e,imgUrl:l,imgs:s})=>t.jsx("img",{src:l,className:"xl:w-80 md:w-80 w-auto h-80 block cursor-pointer rounded-md transition-transform md:transition-opacity duration-300 ease-in-out transform hover:scale-95 hover:opacity-50",alt:`Gallery item ${e}`,onClick:()=>f(s),loading:"lazy",onError:k=>k.currentTarget.src="/images/placeholder.webp"},e)),[f]),j=r.useMemo(()=>a.map((e,l)=>t.jsx("img",{src:e,className:`w-20 h-20 cursor-pointer m-1 rounded-md transition-transform duration-300 ease-in-out transform overflow-hidden ${l===n.i?"border-2 border-white":"hover:scale-105"}`,alt:`Thumbnail ${l}`,onClick:()=>d(e,l),loading:"lazy",onError:s=>s.currentTarget.src="/images/placeholder.webp"},`thumb-${l}`)),[a,n.i,d]),w=()=>{const e=document.documentElement;m?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),g(!m)},F=()=>{x(e=>Math.min(e+.1,2))},v=()=>{x(e=>Math.max(e-.1,1))};return t.jsxs(t.Fragment,{children:[n.img&&t.jsxs("div",{className:"fixed top-0 left-0 w-full h-full bg-slate-950 bg-opacity-90 flex flex-col justify-center items-center z-50",role:"dialog","aria-labelledby":"image-viewer",children:[t.jsx("button",{onClick:()=>u("close"),className:"absolute top-10 right-10 font-bold mt-1 w-7 h-7 text-white text-3xl z-50","aria-label":"Close",children:t.jsx(A,{})}),t.jsx("button",{onClick:()=>u("prev-img"),className:"absolute left-10 text-white text-3xl z-50","aria-label":"Previous Image",children:t.jsx(E,{})}),t.jsx("img",{src:n.img,className:"w-auto max-w-[90%] max-h-[70%]",alt:"Enlarged view",style:{transform:`scale(${b})`}}),t.jsx("button",{onClick:()=>u("next-img"),className:"absolute right-10 text-white text-3xl z-50 ","aria-label":"Next Image",children:t.jsx(z,{})}),t.jsx("div",{className:"mt-5 flex overflow-x-auto w-full justify-center",children:j}),t.jsx("button",{onClick:()=>c(!i),className:"text-white text-2xl mt-5 absolute top-0 right-20","aria-label":i?"Pause":"Play",children:i?t.jsx(S,{}):t.jsx(R,{})}),t.jsx("button",{onClick:w,className:"text-white text-2xl mt-5 absolute top-0 left-20","aria-label":m?"Exit Fullscreen":"Enter Fullscreen",children:m?t.jsx(P,{}):t.jsx(q,{})}),t.jsxs("div",{className:"absolute top-12 left-32 flex space-x-5",children:[t.jsx("button",{onClick:F,className:"text-white text-2xl","aria-label":"Zoom In",children:t.jsx(M,{})}),t.jsx("button",{onClick:v,className:"text-white text-2xl","aria-label":"Zoom Out",children:t.jsx($,{})})]})]}),t.jsx("div",{className:"p-3",children:t.jsx(I,{columnsCountBreakPoints:{350:1,750:2,900:3,1200:4},children:t.jsx(N,{gutter:"5px",children:p})})})]})},D=y.memo(L);export{D as default};
